<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Saraswati Pooja – WebAR Stories (AR.js)</title>

  <!-- Open-source WebVR/WebAR frameworks -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ar.js@3.4.5/aframe/build/aframe-ar.min.js"></script>

  <link rel="stylesheet" href="styles/styles.css" />
</head>
<body>
  <div id="ui" class="overlay">
    <div class="panel">
      <h2>Tap to begin the Saraswati Pooja AR story</h2>
      <p>Point your camera at the printed <strong>HIRO</strong> marker card.</p>
      <button id="start" class="btn">Begin</button>
      <p class="hint">No app needed — works in the browser.</p>
    </div>
  </div>

  <div id="notice" class="notice">Align camera to the marker to start.</div>

  <div id="hud" class="hud" style="display:none;">
    <button id="prev" class="btn small">Prev</button>
    <button id="playPause" class="btn small">Pause</button>
    <button id="next" class="btn small">Next</button>
  </div>

  <a-scene
    vr-mode-ui="enabled: false"
    embedded
    renderer="colorManagement:true, physicallyCorrectLights:true"
    arjs="sourceType: webcam; debugUIEnabled: false; patternRatio:0.9;"
  >
    <a-assets timeout="30000">
      <!-- Optional BGM -->
      <audio id="bgm" src="assets/audio/bgm.mp3" preload="auto" loop crossorigin="anonymous"></audio>

      <!-- Narrations: replace these with your own files in assets/audio -->
      <audio id="narr1" src="assets/audio/intro.mp3" preload="auto" crossorigin="anonymous"></audio>
      <audio id="narr2" src="assets/audio/veena.mp3" preload="auto" crossorigin="anonymous"></audio>
      <audio id="narr3" src="assets/audio/blessings.mp3" preload="auto" crossorigin="anonymous"></audio>
    </a-assets>

    <!-- Use built-in preset marker so we don't need to ship a .patt file -->
    <a-marker preset="hiro" id="marker">
      <a-entity id="root" position="0 0 0">
        <!-- Idol model (injected by scripts/main.js if assets/models/saraswati.glb exists).
             Otherwise we show a simple placeholder shape. -->
        <a-entity id="idolHolder"></a-entity>

        <!-- Caption plane -->
        <a-entity position="0 0.6 0">
          <a-plane width="1.2" height="0.34" color="#101010" opacity="0.7"></a-plane>
          <a-text id="caption" value="Welcome to Saraswati Pooja" align="center" width="1.8" color="#ffe7a1" position="0 0 0.01"></a-text>
        </a-entity>
      </a-entity>
      <a-entity light="type: ambient; intensity: 0.8"></a-entity>
      <a-entity light="type: directional; intensity: 0.9" position="0 1 1"></a-entity>
    </a-marker>

    <a-entity camera></a-entity>
  </a-scene>

  <script src="scripts/main.js"></script>
</body>
</html>
